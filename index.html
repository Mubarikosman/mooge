<!DOCTYPE html>
<html lang="so" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>U Codee Abdikareem Ahmed Moge | Hargeisa Wanaagsan</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800&family=Manrope:wght@400;500;700&family=Poppins:wght@700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/feather-icons"></script>

    <style>
        /* --- Original CSS --- */
        body {
            font-family: 'Manrope', sans-serif;
            background-color: #F8FAFC; /* slate-50 */
            color: #1E293B; /* slate-800 */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            cursor: none;
        }
        
        h1, h2, h3, h4, .font-display {
            font-family: 'Playfair Display', serif;
        }

        .btn-primary {
            background-color: #2563EB; /* blue-600 */
            color: white;
            font-weight: 700;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem; /* rounded-xl */
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .btn-primary:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #1D4ED8; /* blue-700 */
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: -1;
        }
        .btn-primary:hover:before {
            transform: scaleX(1);
            transform-origin: left;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .btn-primary:disabled {
            background-color: #94A3B8; /* slate-400 */
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }
        .btn-primary:disabled:before {
            transform: scaleX(0);
        }
        
        .btn-secondary {
            background-color: #F1F5F9; /* slate-100 */
            color: #334155; /* slate-700 */
            font-weight: 700;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem; /* rounded-xl */
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid #E2E8F0; /* slate-200 */
        }
        .btn-secondary:hover {
            background-color: #E2E8F0; /* slate-200 */
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }
        .btn-secondary:disabled {
            background-color: #E2E8F0; /* slate-200 */
            color: #94A3B8; /* slate-400 */
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }
        .input-group {
            position: relative;
        }
        .input-group i {
            position: absolute;
            left: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            color: #94A3B8; /* slate-400 */
            transition: color 0.2s ease;
        }
        .input-field {
            padding-left: 3.5rem;
            width: 100%;
            padding-top: 1rem;
            padding-bottom: 1rem;
            border-radius: 0.75rem; /* rounded-xl */
            border: 1px solid #E2E8F0; /* slate-200 */
            background-color: #FFFFFF;
            transition: all 0.2s ease;
            font-weight: 500;
        }
        .input-field:focus {
            outline: none;
            border-color: #3B82F6; /* blue-500 */
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
        }
        .input-field:focus + i {
            color: #2563EB; /* blue-600 */
        }
        .input-field::placeholder {
            color: #94A3B8; /* slate-400 */
        }
        .error-message {
            color: #EF4444; /* red-500 */
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: none;
            font-weight: 500;
        }
        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s cubic-bezier(0.165, 0.84, 0.44, 1), transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .reveal-visible {
            opacity: 1;
            transform: translateY(0);
        }
        #vote-counter {
            font-family: 'Poppins', sans-serif;
            transition: transform 0.2s ease;
        }
        .hero-gradient {
            background: linear-gradient(180deg, #F8FAFC 0%, #EFF6FF 100%);
            position: relative;
            overflow: hidden;
        }
        
        .tab-btn {
            background-color: #F1F5F9; /* slate-100 */
            color: #334155; /* slate-700 */
            font-weight: 600; 
            border: 1px solid #E2E8F0; /* slate-200 */
        }
        .tab-btn.active {
            background-color: #2563EB; /* blue-600 */
            color: white;
            border-color: #2563EB;
            box-shadow: 0 4px 14px rgba(37, 99, 235, 0.25);
        }

        /* === CAROUSEL STYLES === */
        .carousel {
            position: relative;
        }
        .carousel-viewport {
            overflow: hidden;
            width: 100%;
        }
        .carousel-track {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.455, 0.03, 0.515, 0.955);
        }
        .carousel-item {
            flex: 0 0 100%;
            width: 100%;
            position: relative;
        }
        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .carousel-text {
            position: absolute;
            bottom: 1.5rem;
            left: 1.5rem;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            opacity: 0;
            transform: translateY(20px);
            animation: text-fade-in 0.6s 0.3s forwards;
        }
        @keyframes text-fade-in {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .carousel-nav {
            position: absolute;
            bottom: 1.5rem;
            right: 1.5rem;
            display: flex;
            gap: 0.5rem;
        }
        .carousel-nav a {
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            color: #1E293B;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-weight: 700;
            font-size: 0.875rem;
            transition: all 0.2s ease;
            user-select: none;
        }
        .carousel-nav a:hover {
            background-color: white;
            transform: scale(1.05);
        }
        .carousel-dots {
            position: absolute;
            bottom: -2.5rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.75rem;
        }
        .carousel-dots .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #CBD5E1; /* slate-300 */
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .carousel-dots .dot.active {
            background-color: #2563EB; /* blue-600 */
            transform: scale(1.25);
        }
        
        /* === HERO ANIMATION STYLES === */
        #hero-animation-container {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
            z-index: 0;
        }
        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(59, 130, 246, 0.3);
            animation: move-particle 20s linear infinite;
        }
        .particle.p1 { width: 80px; height: 80px; top: 10%; left: 15%; filter: blur(4px); animation-duration: 25s; }
        .particle.p2 { width: 30px; height: 30px; top: 70%; left: 80%; animation-duration: 30s; animation-delay: -5s; }
        .particle.p3 { width: 50px; height: 50px; top: 80%; left: 10%; filter: blur(2px); animation-duration: 20s; animation-delay: -10s; }
        .particle.p4 { width: 20px; height: 20px; top: 20%; left: 90%; animation-duration: 35s; animation-delay: -15s; }
        .particle.p5 { width: 45px; height: 45px; top: 50%; left: 50%; filter: blur(3px); animation-duration: 18s; animation-delay: -2s; }

        @keyframes move-particle {
            0% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(20px, 50px) scale(0.9); }
            50% { transform: translate(-30px, -10px) scale(1.1); }
            75% { transform: translate(10px, -40px) scale(1); }
            100% { transform: translate(0, 0) scale(1); }
        }

        /* ORBITING CIRCLES FOR MAYOR IMAGE */
        .orbit-container {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }
        .orbit-circle {
            position: absolute;
            background-color: rgba(59, 130, 246, 0.5);
            border-radius: 50%;
            animation: orbit 10s linear infinite;
        }
        .orbit-circle:nth-child(1) { width: 10px; height: 10px; animation-duration: 8s; }
        .orbit-circle:nth-child(2) { width: 15px; height: 15px; animation-duration: 12s; animation-delay: -4s; filter: blur(1px); }
        .orbit-circle:nth-child(3) { width: 8px; height: 8px; animation-duration: 15s; animation-delay: -8s; }
        
        @keyframes orbit {
            from { transform: rotate(0deg) translateX(55%) rotate(0deg); }
            to { transform: rotate(360deg) translateX(55%) rotate(-360deg); }
        }

        /* === MOUSE CIRCLE TRACKER STYLES === */
        #cursor-dot, #cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 9999;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        #cursor-dot {
            width: 8px;
            height: 8px;
            background-color: #2563EB; /* Blue */
        }
        #cursor-outline {
            width: 40px;
            height: 40px;
            border: 2px solid #2563EB; /* Blue */
            transition: all 0.1s ease-out;
        }
        #cursor-outline.hover {
            transform: translate(-50%, -50%) scale(1.5);
            background-color: rgba(37, 99, 235, 0.2); /* Blue with opacity */
        }
         #cursor-outline.click {
            transform: translate(-50%, -50%) scale(0.8);
           }

        /* === JUMP TO TOP BUTTON STYLES === */
        #jump-to-top-btn {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            background-color: #2563EB; /* blue-600 */
            color: white;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 14px rgba(37, 99, 235, 0.35);
            opacity: 0;
            transform: translateY(100px);
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
        }
        #jump-to-top-btn.visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        #jump-to-top-btn:hover {
            background-color: #1D4ED8; /* blue-700 */
            transform: scale(1.1);
        }

        /* === MODAL STYLES === */
        .modal {
            position: fixed;
            inset: 0;
            z-index: 50;
            display: none; /* Hidden by default */
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        .modal-backdrop {
            position: absolute;
            inset: 0;
            background-color: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(4px);
            opacity: 0;
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .modal-content {
            position: relative;
            z-index: 10;
            background-color: white;
            border-radius: 1.5rem; /* rounded-3xl */
            padding: 2rem;
            width: 100%;
            max-width: 28rem; /* max-w-md */
            box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
            opacity: 0;
            transform: scale(0.95);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .modal.open {
            display: flex;
        }
        .modal.open .modal-backdrop {
            opacity: 1;
        }
        .modal.open .modal-content {
            opacity: 1;
            transform: scale(1);
        }
        .social-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 0.75rem;
            border-radius: 0.75rem; /* rounded-xl */
            font-weight: 600;
            transition: all 0.2s ease;
            border: 1px solid #E2E8F0; /* slate-200 */
        }
        .social-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }

        /* === NEW POLL MODAL STYLES === */
        .poll-option {
            border: 2px solid #E2E8F0; /* slate-200 */
            border-radius: 0.75rem; /* rounded-xl */
            padding: 1rem;
            text-align: center;
            font-weight: 700;
            font-size: 1.125rem; /* text-lg */
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        .poll-option:hover {
            border-color: #94A3B8; /* slate-400 */
            background-color: #F8FAFC; /* slate-50 */
        }
        .poll-option.selected {
            border-color: #2563EB; /* blue-600 */
            background-color: #EFF6FF; /* blue-50 */
            color: #1D4ED8; /* blue-700 */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        .poll-option.selected:before {
            content: 'âœ”';
            position: absolute;
            top: 0.5rem;
            right: 0.75rem;
            font-size: 1rem;
            color: #2563EB;
        }
    </style>
</head>
<body class="overflow-x-hidden">
    <div id="cursor-dot"></div>
    <div id="cursor-outline"></div>

    <header class="sticky top-0 w-full z-50 bg-white/80 backdrop-blur-xl border-b border-slate-200/80">
        <div class="container mx-auto flex justify-between items-center p-6">
            <h4 class="text-2xl font-bold font-display text-slate-800">A. A. Moge</h4>
            <nav class="hidden md:flex items-center space-x-10 text-slate-600 font-semibold">
                <a href="#vote" class="hover:text-blue-600 transition-colors duration-200">Codee</a>
                <a href="#achievements" class="hover:text-blue-600 transition-colors duration-200">Waxqabad</a>
                <a href="#platform" class="hover:text-blue-600 transition-colors duration-200">Qorshaha</a>
                <a href="#about" class="hover:text-blue-600 transition-colors duration-200">Nagu Saabsan</a>
            </nav>
            <div class="flex items-center gap-4">
                <a href="#vote" class="hidden md:block btn-primary px-6 py-2.5 text-sm">Codee Hadda</a>
                <button id="mobile-menu-btn" class="md:hidden p-2 rounded-md text-slate-700 hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <span id="menu-open-icon"><i data-feather="menu" class="w-6 h-6"></i></span>
                    <span id="menu-close-icon" class="hidden"><i data-feather="x" class="w-6 h-6"></i></span>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-slate-200">
             <a href="#vote" class="block py-3 px-6 text-slate-700 font-semibold hover:bg-slate-100">Codee</a>
             <a href="#achievements" class="block py-3 px-6 text-slate-700 font-semibold hover:bg-slate-100">Waxqabad</a>
             <a href="#platform" class="block py-3 px-6 text-slate-700 font-semibold hover:bg-slate-100">Qorshaha</a>
             <a href="#about" class="block py-3 px-6 text-slate-700 font-semibold hover:bg-slate-100">Nagu Saabsan</a>
        </div>
    </header>
    
    <main>
        <section class="hero-gradient pt-24 pb-32">
              <div id="hero-animation-container">
                <div class="particle p1"></div>
                <div class="particle p2"></div>
                <div class="particle p3"></div>
                <div class="particle p4"></div>
                <div class="particle p5"></div>
            </div>

            <div class="container mx-auto px-6 relative z-10">
                <div class="flex flex-col items-center justify-center mb-12 reveal">
                    <img src="https://ui-avatars.com/api/?name=A+A&background=94A3B8&color=fff&size=128" alt="Sawirka Abdiqani Ahmed Adam" class="w-16 h-16 rounded-full object-cover border-4 border-white/50 shadow-lg">
                    <p class="mt-3 text-slate-700 font-semibold text-sm tracking-wide">Curinta: Abdiqani Ahmed Adam</p>
                </div>
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div class="text-center md:text-left reveal">
                        <span class="font-semibold text-blue-600 uppercase tracking-wider">Hargeisa Wanaagsan Darted</span>
                        <h1 class="text-4xl sm:text-5xl md:text-7xl font-extrabold mt-4 mb-6 leading-tight">Codsi Bulsho</h1>
                        <p class="text-xl text-slate-500 mb-10 max-w-xl mx-auto md:mx-0">Hogaanka wanaagsan wuxu horseeda horumar iyo hodantinimo wadan, si aan u muujino wadaniyadeena, u rumayno himilooyinkeena, una dhisno deegaan wanaagsan mustaqbalkeena, mid aan ku dhalno, ku dhawrano, kuna dhamaysano dharaaraheena nololeed, waa inaynu u dooranaa hogaan wanaagsan oo u hagar baxa, si aynu hiigsigaas u helno, waa inaan u heelanaa sidii aynu u soo celin layn mar labaad ilayska mar la araga ah, si aan usii wadano horumerkeena, bulshadu waxay kaa codsanaysaa muwaadin inad nagula qasabto maayir mooge inu soo laabto, fadlan nala gaadh himilada 50k oo qof oo si ku meel gaadha ugu codeeya inu maayirku mar labaad tartamo..</p>
                        <div class="flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4">
                            <a href="#vote" class="btn-primary w-full sm:w-auto">Codee Hadda</a>
                            <button id="share-btn" class="btn-secondary w-full sm:w-auto flex items-center justify-center gap-2">
                                <i data-feather="share-2" class="w-5 h-5"></i>
                                <span>La Wadaag</span>
                            </button>
                            <button id="donate-btn" class="btn-secondary w-full sm:w-auto flex items-center justify-center gap-2" disabled>
                                <i data-feather="gift" class="w-5 h-5"></i>
                                <span>Ku Deeq</span>
                            </button>
                        </div>
                    </div>
                    <div class="relative reveal" style="transition-delay: 200ms;">
                        <div class="absolute inset-0 bg-gradient-to-br from-blue-500 to-emerald-500 rounded-full blur-3xl opacity-30"></div>
                        <img src="https://pbs.twimg.com/profile_images/1372776523204235264/RLdwSmsz_400x400.jpg" alt="Sawirka Maayar Cabdikariim Axmed Mooge" class="relative w-full max-w-md mx-auto rounded-full shadow-2xl aspect-square object-cover border-8 border-white">
                        <div class="orbit-container">
                            <div class="orbit-circle"></div>
                            <div class="orbit-circle"></div>
                            <div class="orbit-circle"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="vote" class="py-24 p-6">
             <div class="text-center mb-16 reveal">
                <h2 class="text-5xl md:text-6xl font-bold">Codsi Bulsho</h2>
                <p class="text-xl text-slate-500 mt-4 max-w-2xl mx-auto">Mudane Ama Marwo Codkaagu waa muhiim. Magacaaga ku dar si aad u muujiso taageeradaada Hargeisa wanaagsan.</p>
            </div>
            
            <div class="container mx-auto max-w-xl">
                <div id="vote-area" class="reveal">
                    <div class="bg-white p-8 md:p-12 rounded-3xl shadow-xl border border-slate-200/80">
                        <div class="text-center mb-10">
                            <h3 class="text-4xl font-bold font-display">Codkaygu Waa Maayar Mooge</h3>
                            <p class="text-slate-500 mt-2">Foomkan buuxi si aad u codayso.</p>
                        </div>
                        
                        <div class="space-y-6">
                            <div class="input-group">
                                <input id="voter-username" type="text" placeholder="Magacaaga oo Dhamaystiran" class="input-field">
                                <i data-feather="user"></i>
                                <span class="error-message" data-for="voter-username">Fadlan geli magacaaga oo buuxa.</span>
                            </div>
                            <div class="input-group">
                                <input id="voter-city" type="text" placeholder="Magaalada / Degmada" class="input-field">
                                <i data-feather="map-pin"></i>
                                <span class="error-message" data-for="voter-city">Fadlan geli magaaladaada ama degmadaada.</span>
                            </div>
                            <div class="input-group">
                                <input id="voter-phone" type="tel" placeholder="Telefoon (Haddii aad rabto)" class="input-field">
                                <i data-feather="phone"></i>
                            </div>
                            <button id="submit-vote-btn" class="w-full btn-primary !p-4 text-lg">Xaqiiji Codkayga</button>
                        </div>
                    </div>
                </div>
                
                <div id="confirmation-message" class="hidden text-center reveal">
                     <div class="bg-emerald-50 p-8 md:p-12 rounded-3xl border-2 border-emerald-200">
                        <i data-feather="check-circle" class="w-20 h-20 mx-auto text-emerald-500 mb-6"></i>
                        <h3 class="text-4xl font-bold font-display mb-4">Codkaaga Waa la Xaqiijiyay!</h3>
                        <p class="text-emerald-800 text-lg">Waad ku mahadsan tahay taageeradaada. Codkaagu wax weyn buu noo tarayaa. Mar kale kama codayn kartid qalabkan.</p>
                        <button id="share-confirmation-btn" class="btn-secondary mt-6 inline-flex items-center justify-center gap-2">
                            <i data-feather="share-2" class="w-5 h-5"></i>
                            <span>La Wadaag</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section id="achievements" class="py-24 bg-white reveal">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-5xl md:text-6xl font-bold">Guulahihii Waxqabad ee hore</h2>
                    <p class="text-xl text-slate-500 mt-4 max-w-2xl mx-auto">Hoggaanka Maayar Mooge waxa uu suurageliyey isbeddel muuqda oo lagu sameeyey kaabayaasha dhaqaalaha, waxbarashada, iyo bilicda caasimadda.</p>
                </div>
        
                <div class="flex flex-wrap justify-center gap-2 sm:gap-4 mb-10">
                    <button class="tab-btn px-4 py-2 text-sm rounded-lg transition-all duration-300 active" data-tab="Wadooyin">Wadooyin</button>
                    <button class="tab-btn px-4 py-2 text-sm rounded-lg transition-all duration-300" data-tab="Dugsiyo">Dugsiyo</button>
                    <button class="tab-btn px-4 py-2 text-sm rounded-lg transition-all duration-300" data-tab="Dhismayaal">Dhismayaal</button>
                    <button class="tab-btn px-4 py-2 text-sm rounded-lg transition-all duration-300" data-tab="Bilicda & Nabadgelyada">Bilicda & Nabadgelyada</button>
                </div>
        
                <div id="tab-contents" class="max-w-3xl mx-auto pb-12">
                    <div id="Wadooyin" class="tab-content">
                        <div class="carousel aspect-[2/1] relative rounded-2xl shadow-2xl shadow-slate-300/50">
                            <div class="carousel-viewport rounded-2xl h-full">
                                <div class="carousel-track h-full">
                                    </div>
                            </div>
                            <div class="carousel-nav"><a href="#" class="prev">Prev</a><a href="#" class="next">Next</a></div>
                            <div class="carousel-dots"></div>
                        </div>
                    </div>
                    <div id="Dugsiyo" class="tab-content hidden">
                        <div class="carousel aspect-[2/1] relative rounded-2xl shadow-2xl shadow-slate-300/50">
                           <div class="carousel-viewport rounded-2xl h-full">
                                <div class="carousel-track h-full">
                                    </div>
                            </div>
                            <div class="carousel-nav"><a href="#" class="prev">Prev</a><a href="#" class="next">Next</a></div>
                            <div class="carousel-dots"></div>
                        </div>
                    </div>
                    <div id="Dhismayaal" class="tab-content hidden">
                        <div class="carousel aspect-[2/1] relative rounded-2xl shadow-2xl shadow-slate-300/50">
                            <div class="carousel-viewport rounded-2xl h-full">
                                <div class="carousel-track h-full">
                                    </div>
                            </div>
                            <div class="carousel-nav"><a href="#" class="prev">Prev</a><a href="#" class="next">Next</a></div>
                            <div class="carousel-dots"></div>
                        </div>
                    </div>
                    <div id="Bilicda & Nabadgelyada" class="tab-content hidden">
                         <div class="carousel aspect-[2/1] relative rounded-2xl shadow-2xl shadow-slate-300/50">
                            <div class="carousel-viewport rounded-2xl h-full">
                                <div class="carousel-track h-full">
                                   </div>
                            </div>
                            <div class="carousel-nav"><a href="#" class="prev">Prev</a><a href="#" class="next">Next</a></div>
                            <div class="carousel-dots"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="platform" class="py-24 p-6 bg-slate-100">
            <div class="text-center mb-16 reveal">
                <h2 class="text-5xl md:text-6xl font-bold">Qorshaha Mustaqbalka ee Maayar Mooge</h2>
                <p class="text-xl text-slate-500 mt-4 max-w-3xl mx-auto">Aragtida Maayar Mooge waxay ku qotontaa dhidibbo adag oo horseedaya dhismaha Hargeisa horumarsan, nabdoon, oo casri ah.</p>
            </div>
            <div class="container mx-auto grid sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-white text-center p-8 rounded-2xl border border-slate-200/80 reveal hover:shadow-xl hover:-translate-y-2 transition-all duration-300">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i data-feather="trending-up" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">Kobcinta Fursadaha Ganacsi</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">Dhiirrigelinta ganacsiyada yaryar iyo kuwa cusub si loo abuuro shaqooyin iyo hal-abuur.</p>
                </div>
                <div class="bg-white text-center p-8 rounded-2xl border border-slate-200/80 reveal hover:shadow-xl hover:-translate-y-2 transition-all duration-300" style="transition-delay: 100ms;">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                         <i data-feather="truck" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">Casriyeynta Kaabayaasha</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">Hagaajinta wadooyinka, biyaha, iyo adeegyada dadweynaha si nolosha loo fududeeyo.</p>
                </div>
                <div class="bg-white text-center p-8 rounded-2xl border border-slate-200/80 reveal hover:shadow-xl hover:-translate-y-2 transition-all duration-300" style="transition-delay: 200ms;">
                     <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i data-feather="cpu" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">Waxbarasho Tiknoolaji ah</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">Horumarinta dugsiyada iyadoo la adeegsanayo tiknoolajiyad casri ah si ardaydu u helaan xirfado cusub.</p>

                </div>
                <div class="bg-white text-center p-8 rounded-2xl border border-slate-200/80 reveal hover:shadow-xl hover:-translate-y-2 transition-all duration-300" style="transition-delay: 300ms;">
                     <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i data-feather="shield" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">Ammaan & Nabad Waarta</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">Xoojinta amniga bulshada iyo ka hortagga dambiyada si loo helo magaalo nabdoon.</p>
                </div>
                <div class="bg-white text-center p-8 rounded-2xl border border-slate-200/80 reveal hover:shadow-xl hover:-translate-y-2 transition-all duration-300" style="transition-delay: 400ms;">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i data-feather="globe" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">Deegaanka & Bilicda</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">Qurxinta magaalada, abuurista jardiinooyin, iyo ilaalinta deegaanka si loogu raaxaysto.</p>
                </div>
                <div class="bg-white text-center p-8 rounded-2xl border border-slate-200/80 reveal hover:shadow-xl hover:-translate-y-2 transition-all duration-300" style="transition-delay: 500ms;">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                         <i data-feather="heart" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">Adeegyo Caafimaad oo Casri ah</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">Balaarinta xarumaha caafimaadka si bulshada loo siiyo daryeel caafimaad oo tayo leh.</p>
                </div>
                <div class="bg-white text-center p-8 rounded-2xl border border-slate-200/80 reveal hover:shadow-xl hover:-translate-y-2 transition-all duration-300" style="transition-delay: 600ms;">
                     <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i data-feather="award" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">Dhaqanka & Isboortiga</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">Dhiirrigelinta barnaamijyada dhaqanka iyo isboortiga si dhalinyaradu u helaan madadaalo.</p>
                </div>
                <div class="bg-white text-center p-8 rounded-2xl border border-slate-200/80 reveal hover:shadow-xl hover:-translate-y-2 transition-all duration-300" style="transition-delay: 700ms;">
                     <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i data-feather="zap" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">Tiknoolajiyada & Hal-abuurka</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">Abuurista xarumo casri ah oo lagu taageero hal-abuurka si bulshada loogu diyaariyo mustaqbalka.</p>
                </div>
            </div>
        </section>

        <section id="about" class="py-24 p-6">
            <div class="container mx-auto max-w-4xl text-center bg-white p-12 rounded-3xl shadow-xl border border-slate-200/80 reveal">
               <h2 class="text-4xl font-bold mb-4">Olole Bulshadu Wada Leedahay</h2>
               <p class="text-lg text-slate-600 leading-relaxed">Madashan dhijitaalka ah waxay marin isu-xidh ah u tahay bulshada reer Hargeisa iyo hoggaankooda.</p>
               <a href="#vote" class="btn-primary mt-8 inline-block">Codee Maanta</a>
            </div>
        </section>

    </main>

    <footer class="py-16 text-center border-t border-slate-200 bg-white">
        <div class="container mx-auto p-6">
            <h4 class="text-2xl font-bold font-display text-slate-800">Ololaha Taageerada Maayar Cabdikariim Axmed Mooge</h4>
            <div class="flex justify-center space-x-6 my-6">
                <a href="#" class="text-slate-500 hover:text-blue-600 transition-colors"><i data-feather="twitter" class="w-6 h-6"></i></a>
                <a href="#" class="text-slate-500 hover:text-blue-600 transition-colors"><i data-feather="facebook" class="w-6 h-6"></i></a>
                <a href="#" class="text-slate-500 hover:text-blue-600 transition-colors"><i data-feather="instagram" class="w-6 h-6"></i></a>
            </div>
            <p class="text-slate-500 mt-2">&copy; 2025. Xuquuqda oo dhan way dhawrsan tahay.</p>
            <p class="text-sm text-slate-400 mt-6">Naqshadeeye: <a href="https://mubarik.hiigsitech.com" target="_blank" rel="noopener noreferrer" class="underline hover:text-blue-600 transition-colors">Mubarik Osman</a></p>
        </div>
    </footer>
    
    <button id="jump-to-top-btn" aria-label="Jump to top">
        <i data-feather="arrow-up" class="w-6 h-6"></i>
    </button>

    <div id="share-modal" class="modal">
        <div class="modal-backdrop" data-close-modal></div>
        <div class="modal-content">
            <button class="absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors" data-close-modal>
                <i data-feather="x" class="w-6 h-6"></i>
            </button>
            <h3 class="text-2xl font-bold font-display text-center mb-2">La Wadaag Ololaha</h3>
            <p class="text-slate-500 text-center mb-6">U faafi fariintan si aan u dhisno Hargeisa wanaagsan.</p>
            <div class="grid grid-cols-2 gap-4 mb-6">
                <a id="share-facebook" href="#" target="_blank" class="social-btn" style="color: #1877F2; border-color: #E0EFFF;"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-1.5c-1 0-1.5.5-1.5 1.5V12h3l-.5 3h-2.5v6.8c4.56-.93 8-4.96 8-9.8z"/></svg> Facebook</a>
                <a id="share-twitter" href="#" target="_blank" class="social-btn" style="color: #1DA1F2; border-color: #E0F5FF;"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.67.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98-3.56-.18-6.73-1.89-8.84-4.48-.37.63-.58 1.37-.58 2.15 0 1.49.76 2.8 1.9 3.57-.7-.02-1.37-.22-1.95-.55v.05c0 2.08 1.48 3.82 3.44 4.21-.36.1-.74.15-1.13.15-.28 0-.55-.03-.81-.08.55 1.7 2.14 2.94 4.03 2.97-1.47 1.15-3.32 1.83-5.33 1.83-.35 0-.69-.02-1.03-.06 1.9 1.22 4.16 1.93 6.56 1.93 7.88 0 12.2-6.54 12.2-12.2 0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.22z"/></svg> Twitter</a>
                <a id="share-whatsapp" href="#" target="_blank" class="social-btn" style="color: #25D366; border-color: #E0FFE9;"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M19.11 4.93A9.87 9.87 0 0012.01 2a9.91 9.91 0 00-7.05 17.07l-1.9 1.9 1.97-1.85A9.87 9.87 0 0012.01 22a9.91 9.91 0 007.1-17.07zM12.01 20.4a8.23 8.23 0 01-4.27-1.22l-.3-.18-3.17.95.97-3.08-.2-.31a8.23 8.23 0 015.03-9.52 8.23 8.23 0 019.5 5.05 8.23 8.23 0 01-5.02 9.51zM16.57 14.3c-.22-.11-1.29-.64-1.49-.71-.2-.07-.35-.11-.49.11-.15.22-.56.71-.69.85-.13.15-.26.16-.49.05-.22-.11-.94-.34-1.79-1.1-.66-.59-1.1-1.32-1.23-1.54s-.01-.35.1-.45c.1-.11.22-.27.33-.41.11-.15.15-.25.22-.42.07-.16.04-.3-.02-.41-.05-.11-.49-1.18-.68-1.61s-.36-.37-.49-.37h-.45c-.15 0-.38.07-.56.37-.19.31-.73 1.71-.73 2.05 0 1.25.75 2.37.85 2.53.11.16 1.49 2.27 3.61 3.2.5.21.89.34 1.2.43.51.15.97.13 1.32.08.4-.05 1.29-.53 1.47-.94.19-.42.19-.78.13-.85-.05-.07-.19-.11-.41-.22z"/></svg> WhatsApp</a>
                <a id="share-telegram" href="#" target="_blank" class="social-btn" style="color: #0088cc; border-color: #E0F3FF;"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M22 5.39c-1.23-1.4-2.89-2.39-4.75-2.39-2.73 0-4.75 2.01-4.75 5.11 0 1.23.41 2.39 1.1 3.39l-4.14 4.14c-.95.95-3.09 3.09-3.09 3.09s-1.02.43-1.3-1.3c-.28-1.73.49-3.59.49-3.59s-3.09-1.4-4.14-2.45c-.95-.95-1.2-2.39-1.2-3.44C.24 8.78 3.5 4.34 9.61 4.34c3.54 0 5.21.86 6.64 2.29l-3.09 3.09s-.69.69-.17 1.2.86.17.86.17l4.14-4.14v-1.38zm-6.64 2.29l-1.1-1.1v2.19l1.1 1.1c.43.43 1.2.43 1.63 0s.43-1.2 0-1.63l-1.63-1.66z"/></svg> Telegram</a>
            </div>
            <div class="relative flex items-center">
                <input id="share-url-input" type="text" class="bg-slate-100 border border-slate-200 rounded-lg w-full p-2 pr-24 text-sm text-slate-600" readonly>
                <button id="copy-link-btn" class="absolute right-1 btn-primary !rounded-md !px-3 !py-1.5 text-xs">Copy Link</button>
            </div>
        </div>
    </div>

    <div id="donate-modal" class="modal">
        <div class="modal-backdrop" data-close-modal></div>
        <div class="modal-content">
            <button class="absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors" data-close-modal>
                <i data-feather="x" class="w-6 h-6"></i>
            </button>
            <div class="text-center p-6">
                 <p class="text-slate-700 text-xl font-semibold">Hada ma aqbalayno wax deeqa.</p>
                 <p class="text-slate-600 mt-2">Waad mahadsantahay.</p>
            </div>
        </div>
    </div>

    <div id="poll-modal" class="modal">
        <div class="modal-backdrop" data-close-modal></div>
        <div class="modal-content text-center">
            <button class="absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors" data-close-modal>
                <i data-feather="x" class="w-6 h-6"></i>
            </button>
            <i data-feather="message-circle" class="w-16 h-16 mx-auto text-blue-600 mb-4"></i>
            <h3 class="text-lg font-semibold text-slate-600 mb-2">Asc mudane/marwo,</h3>
            <p class="text-2xl font-bold font-display text-slate-800 mb-6">Ma doonaysaa Cabdikariim Axmed Mooge inuu soo laabto Mar kale?</p>
            
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="poll-option" data-choice="HAA">
                    <span>HAA</span>
                </div>
                <div class="poll-option" data-choice="MAYA">
                    <span>MAYA</span>
                </div>
            </div>
            
            <button id="submit-poll-btn" class="w-full btn-primary !p-3 text-base">Dir Codkaaga</button>
            <p id="poll-error" class="text-red-500 text-sm mt-3 hidden">Fadlan dooro mid ka mid ah xulashooyinka.</p>
        </div>
    </div>
    
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- FIREBASE SETUP ---
            const firebaseConfig = {
                apiKey: "AIzaSyAnsvGANXpSJVq6B2Yd4woI4caflDvzrYI",
                authDomain: "maayor-mooge.firebaseapp.com",
                projectId: "maayor-mooge",
                storageBucket: "maayor-mooge.appspot.com",
                messagingSenderId: "771226998257",
                appId: "1:771226998257:web:d8029353f27111f143e050"
            };
            firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();
            feather.replace();

            // --- Mobile Menu Logic ---
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuOpenIcon = document.getElementById('menu-open-icon');
            const menuCloseIcon = document.getElementById('menu-close-icon');

            const toggleMenu = () => {
                mobileMenu.classList.toggle('hidden');
                menuOpenIcon.classList.toggle('hidden');
                menuCloseIcon.classList.toggle('hidden');
            };

            mobileMenuBtn.addEventListener('click', toggleMenu);
            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    if (!mobileMenu.classList.contains('hidden')) {
                       toggleMenu();
                    }
                });
            });

            // --- DYNAMIC VOTE COUNTER ---
            const voteCounterElement = document.getElementById('vote-counter');
            if (voteCounterElement) {
                db.collection("votes").onSnapshot((snapshot) => {
                    voteCounterElement.textContent = snapshot.size.toLocaleString('en-US');
                }, console.error);
            }
            

            // --- DYNAMIC VOTE SUBMISSION ---
            const voteArea = document.getElementById('vote-area');
            const confirmationMessage = document.getElementById('confirmation-message');
            const usernameInput = document.getElementById('voter-username');
            const cityInput = document.getElementById('voter-city');
            const phoneInput = document.getElementById('voter-phone');
            const submitVoteBtn = document.getElementById('submit-vote-btn');
            const disableVoting = () => {
                if (voteArea && confirmationMessage) {
                    voteArea.classList.add('hidden');
                    confirmationMessage.classList.remove('hidden');
                }
            };
            if (localStorage.getItem('hasVotedMoge') === 'true') {
                disableVoting();
            }
            const validateInput = (input) => {
                const errorMessage = document.querySelector(`.error-message[data-for="${input.id}"]`);
                if (input.value.trim() === '') {
                    errorMessage.style.display = 'block';
                    input.classList.add('border-red-500');
                    return false;
                } else {
                    errorMessage.style.display = 'none';
                    input.classList.remove('border-red-500');
                    return true;
                }
            };
            [usernameInput, cityInput].forEach(input => {
                input.addEventListener('input', () => validateInput(input));
            });
            submitVoteBtn?.addEventListener('click', async () => {
                const isUsernameValid = validateInput(usernameInput);
                const isCityValid = validateInput(cityInput);
                if (!isUsernameValid || !isCityValid) return;

                submitVoteBtn.disabled = true;
                submitVoteBtn.textContent = 'Waa la dirayaa...';
                try {
                    await db.collection("votes").add({
                        username: usernameInput.value.trim(),
                        city: cityInput.value.trim(),
                        phone: phoneInput.value.trim(),
                        timestamp: firebase.firestore.FieldValue.serverTimestamp()
                    });
                    localStorage.setItem('hasVotedMoge', 'true');
                    disableVoting();
                } catch (error) {
                    console.error("Error adding document: ", error);
                    // alert("Cilad baa dhacday, fadlan isku day mar kale.");
                    submitVoteBtn.disabled = false;
                    submitVoteBtn.textContent = 'Xaqiiji Codkayga';
                }
            });

            // --- Animate on Scroll Logic ---
            const revealElements = document.querySelectorAll('.reveal');
            const revealObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('reveal-visible');
                        revealObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            revealElements.forEach(el => revealObserver.observe(el));

            // === MODAL FUNCTIONALITY ===
            const allModals = document.querySelectorAll('.modal');
            const shareModal = document.getElementById('share-modal');
            const donateModal = document.getElementById('donate-modal');
            const pollModal = document.getElementById('poll-modal');

            const openModal = (modal) => {
                if (modal) {
                    modal.classList.add('open');
                    document.body.style.overflow = 'hidden';
                    feather.replace();
                }
            };

            const closeModal = (modal) => {
                if (modal) {
                    modal.classList.remove('open');
                    document.body.style.overflow = '';
                }
            };
            
            document.getElementById('share-btn')?.addEventListener('click', () => openModal(shareModal));
            document.getElementById('share-confirmation-btn')?.addEventListener('click', () => openModal(shareModal));
            document.getElementById('donate-btn')?.addEventListener('click', () => openModal(donateModal));

            allModals.forEach(modal => {
                modal.querySelectorAll('[data-close-modal]').forEach(el => {
                    el.addEventListener('click', () => closeModal(modal));
                });
            });

            // Share Modal Logic
            if (shareModal) {
                const url = window.location.href;
                const text = "Mustaqbalka Hargeisa adiga ayuu kugu xidhan yahay. Ku biir kumanaanka muwaadin ee codkooda ku muujinaya rabitaankooda ah inay arkaan horumar sii socda. Taabo halkan oo codkaaga ku dar.";
                const encodedUrl = encodeURIComponent(url);
                const encodedText = encodeURIComponent(text);

                document.getElementById('share-url-input').value = url;
                document.getElementById('share-facebook').href = `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`;
                document.getElementById('share-twitter').href = `https://twitter.com/intent/tweet?url=${encodedUrl}&text=${encodedText}`;
                document.getElementById('share-whatsapp').href = `https://api.whatsapp.com/send?text=${encodedText}%20${encodedUrl}`;
                document.getElementById('share-telegram').href = `https://t.me/share/url?url=${encodedUrl}&text=${encodedText}`;

                const copyBtn = document.getElementById('copy-link-btn');
                copyBtn.addEventListener('click', () => {
                    const urlInput = document.getElementById('share-url-input');
                    urlInput.select();
                    urlInput.setSelectionRange(0, 99999);
                    try {
                        document.execCommand('copy');
                        copyBtn.textContent = 'Copied!';
                    } catch (err) {
                        console.error('Fallback: Oops, unable to copy', err);
                         copyBtn.textContent = 'Error!';
                    }
                    setTimeout(() => { copyBtn.textContent = 'Copy Link';}, 2000);
                });
            }
            
            // === NEW POLL MODAL LOGIC ===
            if (pollModal) {
                setTimeout(() => {
                    if (localStorage.getItem('hasVotedPoll') !== 'true') {
                        openModal(pollModal);
                    }
                }, 8000); // 8 seconds

                let selectedPollChoice = null;
                const pollOptions = pollModal.querySelectorAll('.poll-option');
                const pollError = document.getElementById('poll-error');
                
                pollOptions.forEach(option => {
                    option.addEventListener('click', () => {
                        pollOptions.forEach(opt => opt.classList.remove('selected'));
                        option.classList.add('selected');
                        selectedPollChoice = option.dataset.choice;
                        pollError.classList.add('hidden');
                    });
                });

                const submitPollBtn = document.getElementById('submit-poll-btn');
                submitPollBtn.addEventListener('click', async () => {
                    if (!selectedPollChoice) {
                        pollError.classList.remove('hidden');
                        return;
                    }

                    submitPollBtn.disabled = true;
                    submitPollBtn.textContent = 'Waa la dirayaa...';

                    try {
                        await db.collection("pollResponses").add({
                            choice: selectedPollChoice,
                            timestamp: firebase.firestore.FieldValue.serverTimestamp()
                        });
                        localStorage.setItem('hasVotedPoll', 'true');
                        closeModal(pollModal);
                    } catch (error) {
                        console.error("Error saving poll response: ", error);
                        // alert("Cilad baa dhacday, fadlan mar kale isku day.");
                        submitPollBtn.disabled = false;
                        submitPollBtn.textContent = 'Dir Codkaaga';
                    }
                });
            }

            // === CAROUSEL SCRIPT ===
            function setupCarousel(carouselElement) {
                const track = carouselElement.querySelector('.carousel-track');
                if(!track) return;
                const items = Array.from(track.children);
                const nextButton = carouselElement.querySelector('.next');
                const prevButton = carouselElement.querySelector('.prev');
                const dotsContainer = carouselElement.querySelector('.carousel-dots');
                let currentIndex = 0;
                let autoScrollInterval;
                
                if (items.length <= 1) {
                    if (nextButton) nextButton.style.display = 'none';
                    if (prevButton) prevButton.style.display = 'none';
                    if (dotsContainer) dotsContainer.style.display = 'none';
                    // Display the text for the single item
                    if (items.length === 1) {
                        const currentItem = items[0];
                        const textData = currentItem.querySelector('img').dataset.text;
                        if (textData) {
                            const textElement = document.createElement('div');
                            textElement.className = 'carousel-text';
                            textElement.textContent = textData;
                            // Make it visible immediately
                            textElement.style.opacity = 1;
                            textElement.style.transform = 'translateY(0)';
                            currentItem.appendChild(textElement);
                        }
                    }
                    return; 
                }


                dotsContainer.innerHTML = '';
                items.forEach((_, index) => {
                    const dot = document.createElement('button');
                    dot.classList.add('dot');
                    dot.setAttribute('aria-label', `Go to slide ${index + 1}`);
                    dot.addEventListener('click', () => {
                        goToSlide(index);
                        resetAutoScroll();
                    });
                    dotsContainer.appendChild(dot);
                });
                const dots = Array.from(dotsContainer.children);

                function updateUI() {
                    track.style.transform = `translateX(-${currentIndex * 100}%)`;
                    dots.forEach((dot, index) => dot.classList.toggle('active', index === currentIndex));
                    
                    const currentItem = items[currentIndex];
                    const textData = currentItem.querySelector('img').dataset.text;
                    items.forEach(item => {
                        const oldText = item.querySelector('.carousel-text');
                        if(oldText) oldText.remove();
                    });

                    if (textData) {
                       const textElement = document.createElement('div');
                       textElement.className = 'carousel-text';
                       textElement.textContent = textData;
                       currentItem.appendChild(textElement);
                    }
                }

                function goToSlide(index) {
                    currentIndex = index;
                    updateUI();
                }

                function next() { 
                    goToSlide((currentIndex + 1) % items.length);
                }
                function prev() { 
                    goToSlide((currentIndex - 1 + items.length) % items.length);
                }

                function startAutoScroll() {
                    stopAutoScroll();
                    autoScrollInterval = setInterval(next, 5000);
                }
                function stopAutoScroll() {
                    clearInterval(autoScrollInterval);
                }
                function resetAutoScroll() {
                    startAutoScroll();
                }

                nextButton.addEventListener('click', (e) => { e.preventDefault(); next(); resetAutoScroll(); });
                prevButton.addEventListener('click', (e) => { e.preventDefault(); prev(); resetAutoScroll(); });
                carouselElement.addEventListener('mouseenter', stopAutoScroll);
                carouselElement.addEventListener('mouseleave', startAutoScroll);

                goToSlide(0);
                startAutoScroll();
            }

            // --- WAXQABADKII HORE TABS & DYNAMIC CAROUSELS ---
            const achievementsSection = document.getElementById('achievements');
            async function loadAchievements() {
                try {
                    const snapshot = await db.collection('images').orderBy('timestamp', 'desc').get();
                    const achievementsByType = {};

                    snapshot.forEach(doc => {
                        const data = doc.data();
                        if (data.type && typeof data.type === 'string') {
                            const dataType = data.type.toLowerCase();
                             if (!achievementsByType[dataType]) {
                                achievementsByType[dataType] = [];
                            }
                            achievementsByType[dataType].push(data);
                        }
                    });

                    for (const type in achievementsByType) {
                        const capitalizedType = type.charAt(0).toUpperCase() + type.slice(1);
                        const track = document.querySelector(`#${CSS.escape(capitalizedType)} .carousel-track`);
                        
                        if (track) {
                            track.innerHTML = achievementsByType[type].map(ach => `
                                <div class="carousel-item h-full">
                                    <img src="${ach.link}" alt="${ach.title}" data-text="${ach.title}">
                                </div>
                            `).join('');
                        }
                    }

                     achievementsSection.querySelectorAll('.carousel').forEach(setupCarousel);

                } catch (error) {
                    console.error("Error loading images:", error);
                }
            }


            if (achievementsSection) {
                const tabs = achievementsSection.querySelectorAll('.tab-btn');
                const contents = achievementsSection.querySelectorAll('.tab-content');
                
                loadAchievements();

                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        tabs.forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                        contents.forEach(c => c.classList.add('hidden'));
                        document.getElementById(tab.dataset.tab)?.classList.remove('hidden');
                    });
                });
            }

            // === MOUSE CIRCLE TRACKER SCRIPT ===
            const cursorDot = document.getElementById('cursor-dot');
            const cursorOutline = document.getElementById('cursor-outline');
            window.addEventListener('mousemove', (e) => {
                cursorDot.style.left = `${e.clientX}px`;
                cursorDot.style.top = `${e.clientY}px`;
                cursorOutline.animate({
                    left: `${e.clientX}px`,
                    top: `${e.clientY}px`
                }, { duration: 500, fill: 'forwards' });
            });
            const interactiveElements = document.querySelectorAll('a, button, .tab-btn, .input-field, .poll-option');
            interactiveElements.forEach(el => {
                el.addEventListener('mouseenter', () => cursorOutline.classList.add('hover'));
                el.addEventListener('mouseleave', () => cursorOutline.classList.remove('hover'));
            });
            window.addEventListener('mousedown', () => cursorOutline.classList.add('click'));
            window.addEventListener('mouseup', () => cursorOutline.classList.remove('click'));

            // === JUMP TO TOP BUTTON SCRIPT ===
            const jumpBtn = document.getElementById('jump-to-top-btn');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    jumpBtn.classList.add('visible');
                } else {
                    jumpBtn.classList.remove('visible');
                }
            });
            jumpBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

        });
    </script>
</body>
</html>
